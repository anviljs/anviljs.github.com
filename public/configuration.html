<!DOCTYPE html><!--[if lt IE 7]>
<html class="lt-ie9 lt-ie8 lt-ie7"></html><![endif]--><!--[if IE 7]>
<html class="lt-ie9 lt-ie8"></html><![endif]--><!--[if IE 8]>
<html class="lt-ie9"></html><![endif]--><!--[if gt IE 8]>
<html class=""></html><![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Anvil JS - Hammer Your Code Into Shape</title><!--
  <link><link rel="stylesheet" href="stylesheets/pygment_trac.css">-->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/public/css/main.css">
  <script src="/public/javascripts/scale.fix.js"></script>
  <script src="http://code.jquery.com/jquery-1.9.0.js"></script>
  <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script>
    $( function() {
     $("#navbar").scrollspy( { offset: 20 } );	
    } );
    
  </script>
</head>
<body data-spy="scroll" data-target="#navbar">
  <header class="page-header slide"><img src="/public/images/anvil-logo.png" alt="Anvil JS" width="312" height="90" class="anvil-logo">
    <div class="installation">
      <h3>Install Via NPM</h3>
      <pre> <code>npm install anvil.js -g</code></pre>
    </div>
    <!-- /.installation-->
    <div class="github-links"><a href="https://github.com/anviljs/anvil.js" target="_blank" class="watch">Watch on Github</a><a href="https://github.com/anviljs/anvil.js" target="_blank" class="fork">Fork on Github</a></div>
    <nav class="documentation-nav">
      <h3><span class="icon">Navigation</span></h3>
      <ol class="content-outline">
        <li><a href="index.html">About</a></li>
        <li><a href="/public/quick-start.html">Quick Start</a></li>
        <li><a href="/public/conventions.html">Conventions</a></li>
        <li><a href="/public/configuration.html">Configuration</a></li>
        <li><a href="/public/http-host.html">HTTP Host</a></li>
        <li><a href="/public/process-host.html">Process Host</a></li>
        <li><a href="/public/extensions.html">Extensions</a></li>
        <ul>
          <li><a href="/public/plugins.html">Plugins</a></li>
          <li><a href="/public/commands.html">Commands</a></li>
          <li><a href="/public/scaffolds.html">Scaffolds</a></li>
          <li><a href="/public/tasks.html">Tasks</a></li>
        </ul>
      </ol>
      <div class="compatibility">
        <p> <span>Compatible with </span><span class="logo-icons">Microsoft Windows, Apple OS X, and Linux</span></p>
        <p></p>
      </div>
      <div class="appendto-link">
        <p> <span>Sponsored By </span><span><a href="http://appendto.com">appendTo</a></span></p>
      </div>
    </nav>
  </header>
  <!-- /.page-left-->
  <section class="page-content">
    <div id="navbar">
      <ul class="page-nav nav">
        <!--h3 Sections-->
        <li><a href="#intro">Intro</a></li>
        <li><a href="#build-file">Build File</a></li>
        <li><a href="#global-prefs">Preferences</a></li>
        <li><a href="#folders">File Structure</a></li>
        <li><a href="#extensions">Extensions</a></li>
      </ul>
    </div>
    <div id="spacer"></div>
    <h1 class="tagline">Configuration</h1>
    <article id="intro" class="content-section"><h2>Introduction</h2>
<p>This is a very simple overview of how configuration through Anvil&#39;s build file and preferences file works. Specific configurations for every extension and feature are not covered on this page. Please find specific pages for the feature or extension in question or view the readme file on the extension&#39;s repository.
</p>

    </article>
    <article id="build-file" class="content-section"><h2>Build File</h2>
<p>The build file, &quot;./build.json&quot; by default, is a collection of properties that provide configuration used by Anvil and its extensions during builds and other activities. Configuration provided in a build file will only affect Anvil&#39;s behavior for the immediate project. In order to prevent collisions in the global configuration space, every extension receives its own namespace within the configuration. The majority of Anvil&#39;s features are implemented as extensions, so it should come as little surprise that a lot of the configuration being provided will take place within a namespace specific to the extension being configured.  

</p>
<p>Example:
</p>
<pre><code class="lang-javascript">{
 &quot;output&quot;: &quot;./build&quot;, // global settings have no namespace
 &quot;anvil.identify&quot;: { // extension specific config block
  &quot;ignore&quot;: [
   &quot;**/*.orig&quot;
  ]
 }</code></pre>

    </article>
    <article id="global-prefs" class="content-section">
      <h2>Preferences</h2>
      <p>The preferences file, "~/.anvil", behaves exactly like the build file with two exceptions:  </p>
      <ol>
        <li>The settings in this file will override the defaults for *every* project.</li>
        <li>Local build files will *always* override any settings in the preferences file.</li>
      </ol><p>One example of a good use for this file might be to setup default static route paths for Anvil&#39;s HTTP server:  
</p>
<pre><code class="lang-javascript">{
 &quot;httpPaths&quot;: {
  &quot;/&quot;: &quot;./&quot; // will serve the entire project from root
 }
}</code></pre>
<p>This would mean that all your projects would serve their entire folder structure by default during hosting but you could easily override it on a per-project basis. Note: without any configuration, Anvil will serve your output directory from root by default during hosting.
</p>

    </article>
    <article id="folders" class="content-section"><h2>File Structure</h2>
<p>Anvil has several top-level paths ( see the <a href="/public/conventions.html">convention</a> page for more details ) which control where it looks for specific kinds of resources.

</p>
<h3>Source</h3>
<p>Anvil expects all source to be contained under a single folder:
</p>
<pre><code class="lang-javascript">{
 &quot;source&quot;: &quot;./src&quot; // default setting
}</code></pre>
<h3>Output</h3>
<p>Anvil will place all build output into a single folder:
</p>
<pre><code class="lang-javascript">{
 &quot;output&quot;: &quot;./lib&quot; // default setting
}</code></pre>
<h4>Multiple Output Folders</h4>
<p>If you want the full output to appear in two places:
</p>
<pre><code class="lang-javascript">{
 &quot;output&quot;: [ &quot;lib&quot;, &quot;public&quot; ]
}</code></pre>
<h4>Targeted, Partial Output</h4>
<p>If you need control over what folders specific files or file types are copied to:
</p>
<pre><code class="lang-javascript">{
 &quot;output&quot;: {
  &quot;full&quot;: &quot;lib&quot; // tells anvil to output everything to lib
  &quot;partial&quot;: {
   &quot;**/*.css&quot;: &quot;./css&quot; // all .css files flattened into the ./css folder
   &quot;**/*.js&quot;: &quot;./js&quot; // all .js files  flattened into the ./js folder
  }
 }
}</code></pre>
<h3>Specifications</h3>
<p>Anvil expects all specifications to be contained under a single folder:
</p>
<pre><code class="lang-javascript">{
 &quot;spec&quot;: &quot;./spec&quot; // default setting
}</code></pre>
<h3>External Dependencies</h3>
<p>All external dependencies should be contained within a single folder:
</p>
<pre><code class="lang-javascript">{
 &quot;external&quot;: &quot;./ext&quot; // default setting
}</code></pre>

    </article>
    <article id="extensions" class="content-section"><h2>Extensions</h2>
<p>There are three seperate ways Anvil will load extensions during runtime - globally installed and enabled extensions, locally installed extensions (from NPM) and project-specific extensions. There are several ways to change how this behavior works by default.

</p>
<h3>Local Extensions</h3>
<p>To change where Anvil is looking for local extensions, you can provide the following configuration:
</p>
<pre><code class="lang-javascript">{
 &quot;localExtensions&quot;: &quot;./extensions&quot; // default setting
}</code></pre>
<h3>Excluding Extensions</h3>
<p>If you want to exclude specific extensions from being loaded when running Anvil for your project, you can exclude them like this:
</p>
<pre><code class="lang-javascript">{
 &quot;extensions&quot;: {
  &quot;exclude&quot;: [ &quot;anvil.one&quot;, &quot;anvil.two&quot; ]
 }
}</code></pre>
<h3>Exclusive Extension List</h3>
<p>If you want to use only specific extensions when running Anvil for your project, you can include them like this:
</p>
<pre><code class="lang-javascript">{
 &quot;extensions&quot;: {
  &quot;include&quot;: [ &quot;anvil.one&quot;, &quot;anvil.two&quot; ]
 }
}

### Locally Installed Extensions
If you&#39;d like to override a globally installed extension with a specific version for your project, you must first install it via NPM:
```shell
npm install anvil.one@0.1.0</code></pre>
<p>If the extension has never been installed globally with &#39;anvil install&#39;, then you must tell Anvil about the extension&#39;s presence with the following configuration:
</p>
<pre><code class="lang-javascript">{
 &quot;extensions&quot;: {
  &quot;local&quot;: [ &quot;anvil.one&quot; ]
 }
}</code></pre>
<p>Note: Anvil will always prefer a locally installed extension over a global one.</p>

    </article>
  </section>
  <!-- /.page-right-->
  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38164098-1']);
    _gaq.push(['_setDomainName', 'anviljs.com']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);
    
    (function() {
     var ga = document.createElement('script');
     ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0];
     s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>