<!DOCTYPE html><!--[if lt IE 7]>
<html class="lt-ie9 lt-ie8 lt-ie7"></html><![endif]--><!--[if IE 7]>
<html class="lt-ie9 lt-ie8"></html><![endif]--><!--[if IE 8]>
<html class="lt-ie9"></html><![endif]--><!--[if gt IE 8]>
<html class=""></html><![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Anvil JS - Hammer Your Code Into Shape</title><!--
  <link><link rel="stylesheet" href="stylesheets/pygment_trac.css">-->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/public/css/main.css">
  <script src="/public/javascripts/scale.fix.js"></script>
  <script src="http://code.jquery.com/jquery-1.9.0.js"></script>
  <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script>
    $( function() {
     $("#navbar").scrollspy( { offset: 20 } );	
    } );
    
  </script>
</head>
<body data-spy="scroll" data-target="#navbar">
  <header class="page-header slide"><img src="/public/images/anvil-logo.png" alt="Anvil JS" width="312" height="90" class="anvil-logo">
    <div class="installation">
      <h3>Install Via NPM</h3>
      <pre> <code>npm install anvil.js -g</code></pre>
    </div>
    <!-- /.installation-->
    <div class="github-links"><a href="https://github.com/anviljs/anvil.js" target="_blank" class="watch">Watch on Github</a><a href="https://github.com/anviljs/anvil.js" target="_blank" class="fork">Fork on Github</a></div>
    <nav class="documentation-nav">
      <h3><span class="icon">Navigation</span></h3>
      <ol class="content-outline">
        <li><a href="index.html">About</a></li>
        <li><a href="/public/quick-start.html">Quick Start</a></li>
        <li><a href="/public/conventions.html">Conventions</a></li>
        <li><a href="/public/configuration.html">Configuration</a></li>
        <li><a href="/public/extensions.html">Extensions</a></li>
        <ul>
          <li><a href="/public/plugins.html">Plugins</a></li>
          <li><a href="/public/commands.html">Commands</a></li>
          <li><a href="/public/scaffolds.html">Scaffolds</a></li>
          <li><a href="/public/tasks.html">Tasks</a></li>
        </ul>
      </ol>
      <div class="compatibility">
        <p> <span>Compatible with </span><span class="logo-icons">Microsoft Windows, Apple OS X, and Linux</span></p>
        <p></p>
      </div>
      <div class="appendto-link">
        <p> <span>Sponsored By </span><span><a href="http://appendto.com">appendTo</a></span></p>
      </div>
    </nav>
  </header>
  <!-- /.page-left-->
  <section class="page-content">
    <div id="navbar">
      <ul class="page-nav nav">
        <!--h3 Sections-->
        <li><a href="#install">Install</a></li>
        <li><a href="#install-extension">Extensions</a></li>
        <li><a href="#create-new-project">New project</a></li>
        <li><a href="#build">Build</a></li>
        <li><a href="#install-test-fx">Testing</a></li>
        <li><a href="#testem">Testem</a></li>
        <li><a href="#ci">CI</a></li>
      </ul>
    </div>
    <div id="spacer"></div>
    <h1 class="tagline">Quick Start Guide</h1>
    <article id="install" class="content-section"><h2>Install</h2>
<pre><code class="lang-plain"> npm install anvil.js -g</code></pre>
<p>Verify the install completed successfully:  
</p>
<pre><code class="lang-plain"> anvil -v
 #.#.# &lt;-- you should see some numbers</code></pre>
<p>If you don&#39;t get a version, proceed to <a href="troubleshooting">Troubleshooting</a>
</p>

    </article>
    <article id="install-extension" class="content-section"><h2>Install An Extension</h2>
<p>Anvil installs extensions to itself from NPM. Let&#39;s install a scaffold package to use for this quick start:
</p>
<pre><code class="lang-plain">anvil install anvil.demo.scaffolds</code></pre>
<p>You should see the NPM output and then a message that the package was successfully installed. To verify, get a list of scaffolds (you should see the three demo scaffolds somewhere in the list):
</p>
<pre><code class="lang-plain"> anvil scaffolds
 Installed scaffolds:
 . . . 
 demoProject
 demoModule
 demoSpec
 . . .</code></pre>
<p>Congratulations! You&#39;ve just installed an extension to Anvil that contained scaffolds.
</p>

    </article>
    <article id="create-new-project" class="content-section"><h2>Create A New Project</h2>
<p>Let&#39;s use the freshly installed demo scaffolds to get a really contrived project started!
</p>
<pre><code class="lang-plain">anvil new demoProject</code></pre>
<p>You&#39;ll be prompted to name your project, pick a license and then choose whether or not you want to generate a package file (hint: do this). Make up a cool project name! (I chose anviltastic) Now cd to your new project folder and explore the structure a bit:
</p>
<pre><code class="lang-plain">cd anviltastic
ls</code></pre>
<p>You&#39;ll see the following directories and files:
</p>
<pre><code class="lang-plain">|-lib
|-src
|-spec
|-.gitignore
|-build.json
|-header.js
|-LICENSE-*
|-package.json
|-README.md</code></pre>
<p>Sadly, there is nothing to build yet, so let&#39;s fix thatâ€¦

</p>
<pre><code class="lang-plain">anvil new demoModule
module name? NewThing</code></pre>
<p>Answer the friendly prompts and behold the result of your labor!
</p>
<pre><code class="lang-plain">|-lib
|-src
 |-newthing.js
|-spec
|-.gitignore
|-build.json
|-header.js
|-LICENSE-*
|-package.json
|-README.md</code></pre>
<p>If you were to cat the guts of the file, you&#39;d see:
</p>
<pre><code class="lang-javascript">module.exports = function() {
 var NewThing = function() {
 };
 return new NewThing();
}</code></pre>
<p>Nothing fancy going on here, but it&#39;s something to start with.
</p>

    </article>
    <article id="build" class="content-section"><h2>Build!</h2>
<p>Since our project is setup according to Anvil conventions, we can simply type:
</p>
<pre><code class="lang-plain">anvil</code></pre>
<p>and get a build. Verify that the build completed successfully by listing the contents of the lib folder. Spoiler alert: it will have your node module&#39;s source with a header at the beginning.

</p>
<p>Getting a simple build is great, but a bit boring, let&#39;s get some tests going.
</p>

    </article>
    <article id="install-test-fx" class="content-section"><h2>Installing A Test Framework</h2>
<p>For this demo, I&#39;m using Mocha and Should. Let&#39;s install those from NPM:
</p>
<pre><code class="lang-plain">npm install mocha -g &lt;-- if you already have it, you can skip this
npm install should</code></pre>
<p>Now that we have our prerequisites, let&#39;s create a spec file from our demo scaffolds:
</p>
<pre><code class="lang-plain">anvil new demoScaffold
spec name? NewThing</code></pre>
<p>Answer the prompts and then check the contents of your spec folder:
</p>
<pre><code class="lang-plain">|-lib
|-src
 |-newthing.js
|-spec
 |-newthing.spec.js
|-.gitignore
|-build.json
|-header.js
|-LICENSE-*
|-package.json
|-README.md</code></pre>
<p>If you look at the contents, you&#39;ll see this:
</p>
<pre><code class="lang-javascript">require( &quot;should&quot; );
var NewThing = require(&quot;./src/NewThing&quot;);

describe( &quot;Define a specification&quot;, function() {
 it( &quot;should do something awesome&quot;, function() {
  true.should.be.ok;
 } );
} );</code></pre>

    </article>
    <article id="testem" class="content-section"><h2>Testem Integration</h2>
<p>Anvil pre-installs the testem extension (anvil.testem) to itself to assist with running tests across multiple targets. Testem doesn&#39;t have out of the box Mocha support, however, so we&#39;ll need to define a launcher in our build.json file. Open the build.json file in your favorite editor and add everything starting with the top level &quot;anvil.testem&quot; property:

</p>
<pre><code class="lang-javascript">{
 &quot;source&quot;: &quot;src&quot;,
 &quot;spec&quot;: &quot;spec&quot;,
 &quot;output&quot;: &quot;lib&quot;,
 &quot;anvil.testem&quot;: {
  &quot;launchers&quot;: {
   &quot;Mocha&quot;: {
    &quot;command&quot;: &quot;mocha spec/*.spec.js -- reporter spec&quot;
   }
  },
  &quot;launch&quot;: &quot;Mocha&quot;
 }
}</code></pre>
<p>We&#39;ve just defined a process-based launcher for testem that tells testem how to run mocha for us.
</p>

    </article>
    <article id="ci" class="content-section"><h2>Testing and CI</h2>
<p>Anvil has a CI mode where it will build (and test) continuously triggered by files changes. All builds triggered by file changes should <em>only</em> rebuild files affected by the change. CI mode is enabled with the --ci flag.

</p>
<p>To run testem as part of the build, include a --testem flag. This will launch testem&#39;s multi-tab interface in the command line which you can navigate with arrow keys (mouse controls don&#39;t work with this).

</p>
<p>Let&#39;s launch both together in our project:
</p>
<pre><code class="lang-plain"> anvil --ci --testem</code></pre>
<p>You should see one test complete successfully. If you open your project in your favorite editor check to see what happens when you:

</p>
<ul>
<li>Open newthing.js and save the file even without making changes?</li>
<li>Open newthing.spec.js and save the file even without making changes?  </li>
</ul>

    </article>
    <article class="content-section"><h2>Build Cool Stuff!</h2>
<p>You&#39;ve just built a new project with Anvil. At this point you can start using Anvil in your own projects.</p>

    </article>
  </section>
  <!-- /.page-right-->
</body>