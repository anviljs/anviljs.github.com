<!DOCTYPE html><!--[if lt IE 7]>
<html class="lt-ie9 lt-ie8 lt-ie7"></html><![endif]--><!--[if IE 7]>
<html class="lt-ie9 lt-ie8"></html><![endif]--><!--[if IE 8]>
<html class="lt-ie9"></html><![endif]--><!--[if gt IE 8]>
<html class=""></html><![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Anvil JS - Hammer Your Code Into Shape</title><!--
  <link><link rel="stylesheet" href="stylesheets/pygment_trac.css">-->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/public/css/main.css">
  <script src="/public/javascripts/scale.fix.js"></script>
  <script src="http://code.jquery.com/jquery-1.9.0.js"></script>
  <script src="http://twitter.github.com/bootstrap/assets/js/bootstrap-scrollspy.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"><!--[if lt IE 9]>
  <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script>
    $( function() {
     $("#navbar").scrollspy( { offset: 20 } );	
    } );
    
  </script>
</head>
<body data-spy="scroll" data-target="#navbar">
  <header class="page-header slide"><img src="/public/images/anvil-logo.png" alt="Anvil JS" width="312" height="90" class="anvil-logo">
    <div class="installation">
      <h3>Install Via NPM</h3>
      <pre> <code>npm install anvil.js -g</code></pre>
    </div>
    <!-- /.installation-->
    <div class="github-links"><a href="https://github.com/anviljs/anvil.js" target="_blank" class="watch">Watch on Github</a><a href="https://github.com/anviljs/anvil.js" target="_blank" class="fork">Fork on Github</a></div>
    <nav class="documentation-nav">
      <h3><span class="icon">Navigation</span></h3>
      <ol class="content-outline">
        <li><a href="index.html">About</a></li>
        <li><a href="/public/quick-start.html">Quick Start</a></li>
        <li><a href="/public/conventions.html">Conventions</a></li>
        <li><a href="/public/configuration.html">Configuration</a></li>
        <li><a href="/public/http-host.html">HTTP Host</a></li>
        <li><a href="/public/process-host.html">Process Host</a></li>
        <li><a href="/public/extensions.html">Extensions</a></li>
        <ul>
          <li><a href="/public/plugins.html">Plugins</a></li>
          <li><a href="/public/commands.html">Commands</a></li>
          <li><a href="/public/scaffolds.html">Scaffolds</a></li>
          <li><a href="/public/tasks.html">Tasks</a></li>
        </ul>
      </ol>
      <div class="compatibility">
        <p> <span>Compatible with </span><span class="logo-icons">Microsoft Windows, Apple OS X, and Linux</span></p>
        <p></p>
      </div>
      <div class="appendto-link">
        <p> <span>Sponsored By </span><span><a href="http://appendto.com">appendTo</a></span></p>
      </div>
    </nav>
  </header>
  <!-- /.page-left-->
  <section class="page-content">
    <div id="navbar">
      <ul class="page-nav nav">
        <!--h3 Sections-->
        <li><a href="#intro">Intro</a></li>
        <li><a href="#configuration">Configuration</a></li>
        <li><a href="#api">API</a></li>
      </ul>
    </div>
    <div id="spacer"></div>
    <h1 class="tagline">HTTP Host</h1>
    <article id="intro" class="content-section"><h2>Intro</h2>
<p>Anvil&#39;s core has a built in HTTP server that is activated with configuration or a command line option:
</p>
<pre><code class="lang-shell">anvil --host</code></pre>
<p>or
</p>
<pre><code class="lang-javascript">{
 &quot;host&quot;: true
}</code></pre>
<p>The primary role of the HTTP server is to host static resources. When combined with CI mode, the browser will automatically refresh the page after changes to any source files trigger a build (this happens via socket.io). The HTTP server is started as soon as Anvil completes configuration of all the loaded extensions.  

</p>
<h3>Browser</h3>
<p>Anvil will automatically launch a browser tab in your default browser pointed to the root of the site at the correct port if you provide the browser argument:
</p>
<pre><code class="lang-shell">anvil --host --browser</code></pre>

    </article>
    <article id="configuration" class="content-section"><h2>Configuration</h2>
<p>Static routing and port are the two options available for configuration:
</p>
<pre><code class="lang-javascript">{
 &quot;port&quot;: 3080, // default port
 &quot;httpPaths&quot;: {
  &quot;/&quot; : &quot;./lib&quot; // default route
 }
}</code></pre>
<p>Each key in the httpPaths object is the url path and the value is the file path relative to the project&#39;s root.
</p>

    </article>
    <article id="api" class="content-section"><h2>API</h2>
<p>The following API calls are available off the anvil.http namespace:

</p>
<p><strong> .registerPath( url, filePath ) </strong><br>Register static files to serve at a specific relative url.

</p>
<p><strong> .registerRoute( url, verb, callback ) </strong><br>Provide a handler for the url and verb of the form: function( request, response ).  

</p>
<p><strong> .registerTopic( topic, callback ) </strong><br>Provide a handler for the socket.io topic of the form: function( data, client ) where data is the envelope and client is a handle to the client socket.

</p>
<p><strong> .addMiddleware( middleware ) </strong><br>Provide a function that can change the result of a call returned to the browser. Middleware is a function of the form: function( body, req, res ) where body is the complete body of the request, and req and res are the original request and response objects provided by express.

</p>
<p><strong> .addCompiler( extension, mimeType, compiler ) </strong><br>Provide a function that can translate from one source format to another. Extension is the extension (including the leading period, &#39;.coffee&#39;) of the original requested file that the compiler can process. MimeType is the resulting format ( &#39;text/javascript&#39; ). Compiler is a function of the form: function( content, done ) where content is the original source and the done argument is a callback of the form function( result, error ).</p>

    </article>
  </section>
  <!-- /.page-right-->
  <script>
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-38164098-1']);
    _gaq.push(['_setDomainName', 'anviljs.com']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);
    
    (function() {
     var ga = document.createElement('script');
     ga.type = 'text/javascript'; ga.async = true;
     ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
     var s = document.getElementsByTagName('script')[0];
     s.parentNode.insertBefore(ga, s);
    })();
  </script>
</body>